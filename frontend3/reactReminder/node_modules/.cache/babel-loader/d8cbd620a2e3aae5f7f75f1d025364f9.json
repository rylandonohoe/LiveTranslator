{"ast":null,"code":"import { ref, remove, onValue } from 'firebase/database';\nexport const doLogin = async (username, database, handleUpdate) => {\n  const notifsRef = ref(database, '/notifs/' + username); // Use ref to create a reference\n\n  await remove(notifsRef);\n  onValue(notifsRef, snapshot => {\n    if (snapshot.exists()) {\n      handleUpdate(snapshot.val(), username); // Handle the update when data changes\n    }\n  });\n  console.log(\"hi\");\n};\nexport const doOffer = async (to, offer, database, username) => {\n  await database.ref('/notifs/' + to).set({\n    type: 'offer',\n    from: username,\n    offer: JSON.stringify(offer)\n  });\n};\nexport const doAnswer = async (to, answer, database, username) => {\n  await database.ref('/notifs/' + to).update({\n    type: 'answer',\n    from: username,\n    answer: JSON.stringify(answer)\n  });\n};\nexport const doLeaveNotif = async (to, database, username) => {\n  await database.ref('/notifs/' + to).update({\n    type: 'leave',\n    from: username\n  });\n};\nexport const doCandidate = async (to, candidate, database, username) => {\n  // send the new candiate to the peer\n  await database.ref('/notifs/' + to).update({\n    type: 'candidate',\n    from: username,\n    candidate: JSON.stringify(candidate)\n  });\n};","map":{"version":3,"names":["ref","remove","onValue","doLogin","username","database","handleUpdate","notifsRef","snapshot","exists","val","console","log","doOffer","to","offer","set","type","from","JSON","stringify","doAnswer","answer","update","doLeaveNotif","doCandidate","candidate"],"sources":["/Users/rianadutta/Downloads/mchacks12/LiveTranslator/frontend3/reactReminder/src/modules/FirebaseModule.js"],"sourcesContent":["\nimport { ref, remove, onValue } from 'firebase/database';\n\nexport const doLogin = async (username, database, handleUpdate) => {\n  const notifsRef = ref(database, '/notifs/' + username); // Use ref to create a reference\n  \n  await remove(notifsRef);\n\n  onValue(notifsRef, snapshot => {\n    if (snapshot.exists()) {\n      handleUpdate(snapshot.val(), username); // Handle the update when data changes\n    }\n  });\n  console.log(\"hi\")\n};\n\n\n\n\nexport const doOffer = async (to, offer, database, username) => {\n  await database.ref('/notifs/' + to).set({\n    type: 'offer',\n    from: username,\n    offer: JSON.stringify(offer)\n  })\n}\n\nexport const doAnswer = async (to, answer, database, username) => {\n  await database.ref('/notifs/' + to).update({\n    type: 'answer',\n    from: username,\n    answer: JSON.stringify(answer)\n  })\n}\n\nexport const doLeaveNotif = async (to, database, username) => {\n  await database.ref('/notifs/' + to).update({\n    type: 'leave',\n    from: username\n  })\n}\n\nexport const doCandidate = async (to, candidate, database, username) => {\n  // send the new candiate to the peer\n  await database.ref('/notifs/' + to).update({\n    type: 'candidate',\n    from: username,\n    candidate: JSON.stringify(candidate)\n  })\n}\n"],"mappings":"AACA,SAASA,GAAG,EAAEC,MAAM,EAAEC,OAAO,QAAQ,mBAAmB;AAExD,OAAO,MAAMC,OAAO,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,YAAY,KAAK;EACjE,MAAMC,SAAS,GAAGP,GAAG,CAACK,QAAQ,EAAE,UAAU,GAAGD,QAAQ,CAAC,CAAC,CAAC;;EAExD,MAAMH,MAAM,CAACM,SAAS,CAAC;EAEvBL,OAAO,CAACK,SAAS,EAAEC,QAAQ,IAAI;IAC7B,IAAIA,QAAQ,CAACC,MAAM,CAAC,CAAC,EAAE;MACrBH,YAAY,CAACE,QAAQ,CAACE,GAAG,CAAC,CAAC,EAAEN,QAAQ,CAAC,CAAC,CAAC;IAC1C;EACF,CAAC,CAAC;EACFO,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;AACnB,CAAC;AAKD,OAAO,MAAMC,OAAO,GAAG,MAAAA,CAAOC,EAAE,EAAEC,KAAK,EAAEV,QAAQ,EAAED,QAAQ,KAAK;EAC9D,MAAMC,QAAQ,CAACL,GAAG,CAAC,UAAU,GAAGc,EAAE,CAAC,CAACE,GAAG,CAAC;IACtCC,IAAI,EAAE,OAAO;IACbC,IAAI,EAAEd,QAAQ;IACdW,KAAK,EAAEI,IAAI,CAACC,SAAS,CAACL,KAAK;EAC7B,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMM,QAAQ,GAAG,MAAAA,CAAOP,EAAE,EAAEQ,MAAM,EAAEjB,QAAQ,EAAED,QAAQ,KAAK;EAChE,MAAMC,QAAQ,CAACL,GAAG,CAAC,UAAU,GAAGc,EAAE,CAAC,CAACS,MAAM,CAAC;IACzCN,IAAI,EAAE,QAAQ;IACdC,IAAI,EAAEd,QAAQ;IACdkB,MAAM,EAAEH,IAAI,CAACC,SAAS,CAACE,MAAM;EAC/B,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAME,YAAY,GAAG,MAAAA,CAAOV,EAAE,EAAET,QAAQ,EAAED,QAAQ,KAAK;EAC5D,MAAMC,QAAQ,CAACL,GAAG,CAAC,UAAU,GAAGc,EAAE,CAAC,CAACS,MAAM,CAAC;IACzCN,IAAI,EAAE,OAAO;IACbC,IAAI,EAAEd;EACR,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMqB,WAAW,GAAG,MAAAA,CAAOX,EAAE,EAAEY,SAAS,EAAErB,QAAQ,EAAED,QAAQ,KAAK;EACtE;EACA,MAAMC,QAAQ,CAACL,GAAG,CAAC,UAAU,GAAGc,EAAE,CAAC,CAACS,MAAM,CAAC;IACzCN,IAAI,EAAE,WAAW;IACjBC,IAAI,EAAEd,QAAQ;IACdsB,SAAS,EAAEP,IAAI,CAACC,SAAS,CAACM,SAAS;EACrC,CAAC,CAAC;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}