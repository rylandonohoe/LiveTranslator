{"ast":null,"code":"'use strict';\n\nvar fecha = require('fecha');\nvar format = require('./format');\n\n/*\n * function timestamp (info)\n * Returns a new instance of the timestamp Format which adds a timestamp\n * to the info. It was previously available in winston < 3.0.0 as:\n *\n * - { timestamp: true }             // `new Date.toISOString()`\n * - { timestamp: function:String }  // Value returned by `timestamp()`\n */\nmodule.exports = format(function (info) {\n  var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (opts.format) {\n    info.timestamp = typeof opts.format === 'function' ? opts.format() : fecha.format(new Date(), opts.format);\n  }\n  if (!info.timestamp) {\n    info.timestamp = new Date().toISOString();\n  }\n  if (opts.alias) {\n    info[opts.alias] = info.timestamp;\n  }\n  return info;\n});","map":null,"metadata":{},"sourceType":"script"}